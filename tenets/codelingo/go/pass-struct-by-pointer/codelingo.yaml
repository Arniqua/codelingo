tenets:
  - name: pass-struct-by-pointer
    actions:
      codelingo/review:
        comment: Passing a pointer to a struct with exported fields such as {{ structName }} is bad practice as it can result in multiple process reading and writing to the same memory.
    query: |
      import codelingo/ast/go

      go.type_spec(depth = any):
        go.ident:
          name as structName
        go.struct_type:
          go.field_list:
            go.field:
              go.names:
                go.ident:
                  private == "false"
      @review comment
      go.func_decl(depth = any):
        go.field_list(depth = any):
          go.field:
            go.names
            go.star_expr:
              go.ident: 
                name == structName
