tenets:
  - name: shadowed-func-parameter
    flows:
      codelingo/docs:
        title: Shadowed Function Parameter
        body: |
          Avoid shadowing your function parameters to make your code easier to read.
          See "https://gist.github.com/lavalamp/4bd23295a9f32706a48f"
      codelingo/review:
        comment: Identifier `{{paramName}}` := shadows parameter `{{paramName}}`. Rename one of them to make the code easier to read.
    query: |
      import codelingo/ast/go

      go.func_decl(depth = any):
        go.func_type:
          go.field_list: 
            sibling_order == 0
            go.field:
              go.names:
                go.ident:
                  name as paramName
                  name != "_"
        go.block_stmt(depth = any):
          go.assign_stmt(depth = any):
            tok == ":="
            go.lhs:
              @review comment
              go.ident:
                name == paramName