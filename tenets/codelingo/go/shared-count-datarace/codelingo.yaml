tenets:
  - name: find-funcs
    actions:
      codelingo/review:
        comment: This is a function, but you probably already knew that.
    query: |
      import codelingo/ast/go

      @review comment
      go.for_stmt(depth = any):
        go.assign_stmt:
          go.lhs:
            go.ident:
              name as countVar
        go.binary_expr:
          go.ident:
            name == countVar
        go.go_stmt(depth = any):
          go.call_expr:
            go.func_lit:
              go.go_stmt(depth = any):
                go.call_expr:
                  go.func_lit:
                    go.func_type:
                      go.field_list:
                        go.ident(depth = any):
                          name == countVar
