tenets:
  - name: context-in-struct
    flows:
      codelingo/review:
        comment: Don't add a Context member to a struct type; instead add a ctx parameter to each method on that type that needs to pass it along.
    query: |
      import codelingo/ast/go

      go.struct_type(depth = any):
        go.field_list:
          go.field:
            go.names
            @review comment
            go.selector_expr:
              go.ident:
                name == "context"
              go.ident:
                name == "Context"
