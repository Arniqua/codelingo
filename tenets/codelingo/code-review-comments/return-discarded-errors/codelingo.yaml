tenets:
  - name: do-not-discard-errors
    flows:
      codelingo/review:
        comment: Don't discard errors.
      codelingo/rewrite:
        returnError: |
          if err != nil {
            return {{ zeroValues(argument) }}
          }
    query: |
      import codelingo/ast/go

      @review comment
      go.func_decl(depth = any):
        go.assign_stmt(depth = any):
          go.lhs:
            go.ident:
              name == "_"
              type == "error"
funcs:
  - name: zeroValues
    type: resolver
    body: |
      function (arguments) {
        return a.concat(b);
      }

