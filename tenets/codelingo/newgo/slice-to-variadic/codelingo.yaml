funcs:
  - name: sliceToVariadic
    type: resolver
    body: |
      function(arrType) {
        return "..." + arrType
      }
tenets:
  - name: slice-to-variadic
    flows:
      codelingo/rewrite:
      codelingo/review:
        comment: This slice can be replaced with a variadic expression.
    query: |
      import codelingo/ast/go

      go.func_decl(depth = any):
        go.func_type:
          go.field_list:
            sibling_order == 0
            go.field:
              go.names:
                @review comment
                go.ident
              @rewrite --replace "{{ sliceToVariadic(arrType) }}"
              go.array_type:
                go.ident:
                  name as arrType
                  name == "string"
