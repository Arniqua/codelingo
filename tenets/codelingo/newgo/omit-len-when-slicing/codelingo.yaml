tenets:
  - name: omit-len-when-slicing
    flows:
      codelingo/rewrite:
      codelingo/review:
        comment: You can omit the second index value when slicing to the end of a slice.
    query: |
      import codelingo/ast/go

      @review comment
      go.slice_expr(depth = any):
        go.ident:
          name as sliceName
        @rewrite --replace ""
        go.call_expr:
          go.ident:
            name == "len"
          go.args:
            child_count == 1
            go.ident:
              name == sliceName
